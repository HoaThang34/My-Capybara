<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th·∫ø Gi·ªõi Di·ªáu K·ª≥ C·ªßa B√©</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="sound-control" class="hidden">üîä</div>
    <div id="user-info" class="hidden">
        <span id="welcome-user"></span>
        <button id="logout-btn">ƒêƒÉng xu·∫•t</button>
    </div>

    <div class="container">
        <!-- M√ÄN H√åNH ƒêƒÇNG NH·∫¨P/ƒêƒÇNG K√ù -->
        <div id="auth-screen">
            <div id="login-form-container">
                <h1 class="main-title">ƒêƒÉng Nh·∫≠p</h1>
                <form id="login-form">
                    <input type="text" id="login-username" placeholder="T√™n t√†i kho·∫£n c·ªßa b√©" required>
                    <input type="password" id="login-password" placeholder="M·∫≠t kh·∫©u" required>
                    <button type="submit" class="action-btn">V√†o Ch∆°i</button>
                </form>
                <p class="auth-switch">Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" id="show-register">T·∫°o t√†i kho·∫£n</a></p>
                <p id="auth-error" class="error-message"></p>
            </div>
            <div id="register-form-container" class="hidden">
                <h1 class="main-title">T·∫°o T√†i Kho·∫£n</h1>
                <form id="register-form">
                    <input type="text" id="register-username" placeholder="T√™n t√†i kho·∫£n c·ªßa b√©" required>
                    <input type="password" id="register-password" placeholder="M·∫≠t kh·∫©u" required>
                    <button type="submit" class="action-btn">T·∫°o Ngay</button>
                </form>
                <p class="auth-switch">ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" id="show-login">ƒêƒÉng nh·∫≠p</a></p>
            </div>
        </div>
        
        <!-- TRANG CH·ª¶ (M·ªöI) -->
        <div id="home-screen" class="hidden">
            <div id="home-snow-container"></div>
            <h1 class="home-title">Th·∫ø Gi·ªõi Di·ªáu K·ª≥ C·ªßa B√©</h1>
            <p class="home-subtitle">Ch√†o m·ª´ng b√© ƒë√£ ƒë·∫øn v·ªõi th·∫ø gi·ªõi c·ªßa nh·ªØng cu·ªôc phi√™u l∆∞u v√† c√¢u ƒë·ªë!</p>
            <button id="start-adventure-btn" class="action-btn">B·∫Øt ƒë·∫ßu phi√™u l∆∞u!</button>
        </div>

        <!-- M√ÄN H√åNH CH·ªåN MAP -->
        <div id="map-selection-screen" class="hidden">
            <h1 class="main-title">L·ªô Tr√¨nh Phi√™u L∆∞u</h1>
            <div class="roadmap-container-horizontal">
                <div class="roadmap-path-horizontal"></div>
                <div class="roadmap-nodes-horizontal" id="map-nodes-container"></div>
            </div>
            <button id="back-to-home-btn" class="back-btn">‚óÄ Quay V·ªÅ</button>
        </div>
        
        <!-- KHU V·ª∞C TR√í CH∆†I -->
        <div id="game-area" class="hidden">
            <div class="game-header">
                <p id="question-counter" class="question-counter"></p>
                <div id="heart-container" class="hidden"></div>
            </div>
            <div id="timer-container" class="hidden"><div id="timer-bar"></div></div>
            <div class="progress-map-container">
                <div class="progress-map" id="progress-map"></div>
                <div class="player-icon" id="player-icon"></div>
                <div class="final-goal" id="final-goal"></div>
            </div>
            <h2 id="question-text" class="question-text">...</h2>
            <div class="answers" id="answer-buttons"></div>
            <p id="feedback-message" class="feedback-message"></p>
        </div>

        <!-- C√ÅC M√ÄN H√åNH K·∫æT TH√öC -->
        <div id="win-screen" class="hidden">
            <h2 id="win-title" class="win-title">HO√ÄN TH√ÄNH!</h2>
            <div id="character-image-win" class="character-image-win"></div>
            <p id="unlock-message" class="unlock-message hidden"></p>
            <p id="win-subtitle" class="win-subtitle"></p>
            <button id="play-again-btn" class="action-btn">Quay l·∫°i L·ªô Tr√¨nh</button>
        </div>
        <div id="game-over-screen" class="hidden">
             <h2 id="game-over-title" class="game-over-title">GAME OVER</h2>
             <div id="game-over-character" class="game-over-character">üòµ</div>
             <p id="game-over-text" class="game-over-text">ƒê·ª´ng n·∫£n ch√≠, th·ª≠ l·∫°i nh√©!</p>
             <button id="retry-btn" class="action-btn">Ch∆°i L·∫°i Map N√†y</button>
        </div>
    </div>
    
    <footer class="copyright">Update New 27/6/2025</footer>
    
    <div id="correct-overlay" class="hidden"><h2 id="correct-message">Tuy·ªát v·ªùi!</h2></div>
    
    <audio id="bg-music" src="background-music.mp3" loop></audio>
    <audio id="correct-sound" src="correct-sound.mp3"></audio>
    <audio id="wrong-sound" src="wrong-sound.mp3"></audio>

    <script src="app.js"></script>
</body>
</html>